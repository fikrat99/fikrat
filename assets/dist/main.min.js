"use strict";!function($){var a=a||{};a={version:"1.0",defaults:{debug:!0,menuOpened:!1},init:function(){var b;for(b in this)if(this.hasOwnProperty(b)){var a=this[b];void 0!==a.selector&& void 0!==a.init&&$(a.selector).length>0&&a.init()}},log:function(){if(!0===a.defaults.debug){for(var c=[],d="console.log(args)",b=0;b<arguments.length;b++)c.push("args["+b+"]");(d=new Function("args",d.replace(/args/,c.join(","))))(arguments)}},platformDetect:{selector:"html",init:function(){var a=$(this.selector);/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)?a.addClass("mobile"):a.addClass("no-mobile"),/mozilla/.test(navigator.userAgent),/safari/.test(navigator.userAgent),"ontouchstart"in document.documentElement||(document.documentElement.className+=" no-touch")}},interactiveTitle:{selector:"html",originalTitle:"",changingTimer:null,windowFocused:!1,init:function(){this.originalTitle=document.title,window.onfocus=this.onFocus.bind(this),window.onblur=this.onBlur.bind(this)},onBlur:function(){document.title="\u{1F44B} Come back soon!",clearTimeout(this.changingTimer),this.windowFocused=!1,$("body").addClass("blurred")},onFocus:function(){var a=this;document.title="\u{1F44A} Welcome!",clearTimeout(this.changingTimer),this.changingTimer=setTimeout(function(){document.title=a.originalTitle},1e3),this.windowFocused=!0,$("body").removeClass("blurred")}},helpers:{selector:"body",init:function(){var a=new Date().getFullYear();$(".current-year").html(a),jQuery.extend(jQuery.easing,{easeInOutQuart:function(e,a,b,c,d){return(a/=d/2)<1?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b}})}},headerFunctions:{selector:"header",init:function(){var b=$(this.selector);a.headerFunctions.initMobileMenu(b)},initMobileMenu:function(c){a.defaults.menuOpened=!1;var b=$("#mobile-burger");$(window).on("click",function(b){0< !$(b.target).parents("header").length&&a.headerFunctions.closeMobileMenu()}),b.on("click",function(){a.defaults.menuOpened?a.headerFunctions.closeMobileMenu(c,b):a.headerFunctions.openMobileMenu(c,b)})},openMobileMenu:function(c,b){a.defaults.menuOpened=!0,$("body").addClass("menu-open"),b.addClass("open"),$("html").addClass("overflow-hidden")},closeMobileMenu:function(c,b){if(!a.defaults.menuOpened)return!1;a.defaults.menuOpened=!1,$("body").removeClass("menu-open"),b.removeClass("open"),$("html").removeClass("overflow-hidden")}},onyxSlider:{selector:"[onyx-slider]",init:function(){var b=$(this.selector);a.log("Slider gonna run!"),b.each(function(){var a=$(this);a.owlCarousel({rtl:!!$("body").hasClass("rtl"),loop:!!a.attr("data-slider-loop")&&a.attr("data-slider-loop"),autoplay:!!a.attr("data-slider-autoplay")&&a.attr("data-slider-autoplay"),timeout:a.attr("data-slides-timeout")?parseInt(a.attr("data-slides-timeout"),10):5e3,margin:a.attr("data-slides-margin")?parseInt(a.attr("data-slides-margin"),10):0,nav:!0,dots:!0,dotsContainer:".banner-area .slider-dots",navText:[$("body").hasClass("rtl")?'<i class="icon-arrow-right-tall"></i>':'<i class="icon-arrow-left"></i>',$("body").hasClass("rtl")?'<i class="icon-arrow-left"></i>':'<i class="icon-arrow-right-tall"></i>',],responsive:{0:{items:1},600:{items:a.attr("data-slides-per-view-md")?parseInt(a.attr("data-slides-per-view-md"),10):1},1e3:{items:a.attr("data-slides-per-view-lg")?parseInt(a.attr("data-slides-per-view-lg"),10):1}}})})}},tripDesign:{selector:"form.trip-design-form",init:function(){var a=$(this.selector),b=a.find(".like-radio"),c=a.find('button[type="submit"]');a.find(".warning-msg"),b.on("click",this.handleRadioClick),c.on("click",this.handleContinueClick)},completionSteps:function(b){var a=b.parents("section").attr("data-completion-elemtent");$(".trip-design-completion-step."+a).addClass("completed"),$(".trip-design-completion-step."+a).next().addClass("active")},handleRadioClick:function(f){var b,e=$(a.tripDesign.selector).find(".warning-msg"),c=[],d=$(this).parents("section").attr("data-step-type");a.tripDesign.completionSteps($(this)),"a"!==f.target.tagName.toLowerCase()&&(e.hasClass("visible")&&e.removeClass("has-error").html("").stop(0,0).slideUp(500,function(){$(this).removeClass("visible")}),$(this).parents("section").hasClass("allow-multiple")||$(this).parents(".trip-design-step").find(".like-radio.selected").removeClass("selected"),$(this).hasClass("selected")?$(this).removeClass("selected"):$(this).addClass("selected"),b=$(this).attr("data-"+d+"-id"),$(this).parents("section").find('input[name="'+d+'_id"]').val(b).addClass("has-value"),$(this).parents("section").hasClass("allow-multiple")?($(this).hasClass("selected")?c.push(b):c.splice($.inArray(b,c),1),$(this).parents("section").find('input[name="'+d+'_id"]').attr("value",c.join(","))):$(this).parents("section").find('input[name="'+d+'_id"]').attr("value",b))},handleContinueClick:function(d){var c=$(a.tripDesign.selector),e=c.find(".warning-msg"),b=c.find(".trip-design-step.active:not(.completed)");if(d.preventDefault(),"personal-info"===b.attr("data-step-type")){a.log("Submitting personal information!");return}0!==b.find(".like-radio.selected").length||b.hasClass("allow-multiple")||"final"===b.next().attr("data-step-type")?"final"!==b.next().attr("data-step-type")?(a.log("Opening next step!"),b.removeClass("active").addClass("completed"),setTimeout(function(){var a=b.next();$("html, body").animate({scrollTop:$(a).offset().top+20},300)},100),b.next().stop(0,0).slideDown(1e3,function(){$(this).css("height","auto"),$(this).addClass("active")})):(a.log("Submitting!"),c.submit(),window.location.assign("design-your-trip-2.html")):(a.log("Showing error message!"),e.addClass("has-error").html("You have to make a selection in order to continue!").stop(0,0).slideDown(500,function(){$(this).css("height","auto"),$(this).addClass("visible")}))}},ratingFunctions:{selector:".onyx-rating-holder",init:function(){var a=this;$(a.selector).each(function(){var b=$(this).attr("data-rated");a.setRateValue($(this),b)})},setRateValue:function(b,c){for(var a=0;a<c;a++)b.find(".onyx-star").eq(a).addClass("passed")}},rangeSlider:{selector:"#range-slider",init:function(){var a=document.getElementById("range-slider");noUiSlider.create(a,{start:parseInt(a.getAttribute("data-start"),10),direction:$("body").hasClass("rtl")?"rtl":"ltr",behaviour:"snap",connect:[!0,!1],step:1,range:{min:1,max:365}});var b=document.getElementById("nights_count");a.noUiSlider.on("update",function(a,c){b.innerHTML=Math.round(a[c])})}},formsValidationsAjax:{selector:".onyx-validation",init:function(){$(this.selector).each(function(){$(this).bootstrapValidator({feedbackIcons:{},live:"submitted",onError:function(a){},onSuccess:function(b){b.preventDefault(),a.log("Submitting!")}})})}},telField:{selector:'[type="tel"]',init:function(){$(this.selector).keyup(function(){this.value=this.value.replace(/([^+0-9]+)/gi,"")})}},floatLabel:{selector:".float-label",init:function(){$(this.selector).each(function(){var b=$(this),a=b.find("input,select,textarea");a.is("[readonly]")||(a.val()&&""!==a.val()&&" "!==a.val()&& void 0!==a.val()&&b.addClass("active"),a.bind("focus",()=>{b.addClass("active")}),a.bind("blur",()=>{""===a.val()&&setTimeout(function(){b.removeClass("active")},50)}))})}}},$(document).ready(function(){a.init(),window.Onyx=a})}(jQuery)